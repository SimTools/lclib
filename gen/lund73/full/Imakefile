#define LCLIB_TMPL "../../../config/lclib.tmpl"
#include LCLIB_TMPL


HOMEDIR = ../../..
INCPATH = -I$(HOMEDIR)/util/lcfull/src \
	  -I$(HOMEDIR)/util/com 
INSTALLDIR = $(HOMEDIR)/lib

OBJS = dslhad.o flnbru.o flneru.o flnpar.o \
	lufrag.o luhadr.o lutuhl.o ulctau.o

OBJL = 	klu.o lu1ent.o lu2ent.o lu3ent.o \
	lu4ent.o luboei.o lucell.o luchge.o luclus.o lucomp.o \
	ludecy.o luedit.o lueevt.o luerrm.o luexec.o \
	lufowo.o lugive.o luhepc.o luindf.o lujmas.o lujoin.o \
	lukfdi.o lulist.o luname.o luonia.o luprep.o luptdi.o \
	luradk.o lurobo.o lushow.o lusphe.o lustrf.o lutabu.o \
	lutest.o luthru.o luupda.o lux3jt.o lux4jt.o luxdif.o \
	luxjet.o luxkfl.o luxtot.o luzdis.o plu.o rlu.o \
	rluget.o rluset.o ulalem.o ulalps.o ulangl.o ulmass.o

LDIR  = ../jetset73
SRCL  = $(patsubst %.o,$(LDIR)/%.f,$(OBJL))
OOBJL = $(patsubst %.o,$(LDIR)/%.o,$(OBJL))

$(OOBJL): $(SRCL)
	(cd ../jetset73; make)

$(OBJL): $(OOBJL)
	ln -sf ../jetset73/$*.o $*.o

ludata.o: $(LDIR)/ludata.o
	ln -sf ../jetset73/ludata.o ludata.o

$(LDIR)/ludata.o: $(LDIR)/ludata.F
	(cd ../jetset73; make)

ALLOBJ  = $(OBJS) $(OBJL) ludata.o

LIBNAME	    = LUND73
LIBNAMEHADR = LUHADR
#######################
#ifdef DOSHRLIB
SharedLibraryTarget($(LIBNAME),$(SOREV),$(ALLOBJ),.,.)
InstallSharedLibrary($(LIBNAME),$(SOREV),$(INSTALLDIR))
SharedLibraryTarget($(LIBNAMEHADR),$(SOREV),$(OBJS),.,.)
InstallSharedLibrary($(LIBNAMEHADR),$(SOREV),$(INSTALLDIR))
#endif
NormalLibraryTarget($(LIBNAME), $(ALLOBJ) )
InstallLibrary($(LIBNAME),$(INSTALLDIR))
NormalLibraryTarget($(LIBNAMEHADR), $(OBJS) )
InstallLibrary($(LIBNAMEHADR),$(INSTALLDIR))

#######################
flneru.o: $(HOMEDIR)/util/com/comode.inc



